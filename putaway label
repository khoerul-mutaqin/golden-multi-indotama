<t t-name="studio_main_report">
    <t t-call="web.basic_layout">
        <style>
            .page-container {
                page-break-after: always;
                width: 100%;
                font-family: Arial, sans-serif;
                color: black;
                margin-bottom: 20px;
            }
            .page-container:last-child {
                page-break-after: avoid;
            }
        </style>

        <t t-set="picking" t-value="docs"/>
        <t t-set="packages" t-value="docs.move_line_ids.mapped('result_package_id')"/>

        <t t-foreach="packages" t-as="o">
            <t t-set="package_quants" t-value="o.quant_ids.filtered(lambda q: q.quantity > 0)"/>
            
            <t t-set="picking_receipt" t-value="env['stock.picking'].search([('name', '=', picking.origin)], limit=1)"/>

            <div class="page-container">
                <div style="width: 100%; border: 4px solid black; padding: 15px; background-color: white; box-sizing: border-box;">
                    
                    <div class="row">
                        <div class="col-6" >
                            <div style="text-align: center; margin-bottom: 10px;">
                                <span >Putaway Label</span><br/>
                                <span >No Pallet : <span t-field="o.name"/></span>
                            </div>
                             <div style="text-align: center; ">
                                PO Customer: <t t-esc="picking_receipt.origin or picking.origin"/><br/>
                                SO GMI: <t t-esc="picking_receipt.cdp_so_contract_id.name"/><br/>
                                NO GR: <t t-esc="picking_receipt.name"/>
                            </div>
                        </div>


                        <div class="col-6" style="text-align: center;" >
                                Dicetak: <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y %H:%M:%S')"/>
                            <div style="text-align: center; border: 1px solid #000; padding: 5px; margin-bottom: 5px;">
                                <div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:100%;height:40px;'}"/>
                                <span style="font-size: 12px;" t-field="o.name" />
                            </div>
                            <div style="text-align: center; margin-bottom: 5px;"> <span t-field="o.name" /> </div>
                            <div >
                                Customer : <t t-esc="picking.partner_id.name"/> <br/>
                                Customer Code : <t t-esc="picking.partner_id.ref"/><br/>
                                Nopol Vehicle : <t t-esc="picking_receipt.x_studio_no_kendaraan"/>
                            </div>
                        </div>
                    </div>

                    
                    <div style="margin-top: 15px; font-size: 15px; line-height: 1.4;">
                        Room: <span t-field="o.location_id.cdp_room_type"/><br/>
                        Pack Date:<span t-field="o.pack_date" t-options='{"widget": "date"}'/><br/>
                        <span style="background-color: yellow; font-weight: bold; display: inline-block; margin-top: 4px;">
                            Area : Area Ajwa
                        </span>
                    </div>

                    <div style="border: 4px solid black; margin-top: 15px;">
                        <div style="padding: 10px;">
                                <t t-foreach="package_quants" t-as="quant">
                                    <div style="border: 2px solid black; margin-top: 10px;">
                                        <div style="padding: 10px; font-size: 48px; font-weight: bold; border-bottom: 2px solid black;">
                                            Location : <span  t-field="o.location_id.display_name"/>
                                            <!--Location : IDN-->
                                        </div>
                                        <div style="padding: 10px; font-size: 15px; line-height: 1.6;">
                                            Desc : <span t-field="quant.product_id.display_name"/><br/>
                                            Lot/Batch : <span t-field="quant.lot_id.name"/><br/>
                                            Quantity : <span t-field="quant.lot_id.name"/> <span t-field="quant.product_id.uom_id.name"/> <br/>
                                         </div>
                                    </div>
                                </t>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </t>
</t>
